<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.toughguy.cityDisplay.model.content.JJDB">

<!-- 查询某个类型的案件列表-->
	<select id="findJQLXDMaj" parameterType="Map" resultType="JJDB">
		select * from (select * from JJDB ORDER BY bjsj desc ) where jqlxdm=#{jqlxdm}  and 
        to_char(bjsj,'YYYY-MM-DD')=#{tjTime}
        and  jqlxdm is not null
        and substr(xzqhdm,1,4)=substr(#{xzqhdm},1,4)
        and rownum &lt; 11
	</select>
	
	<!-- 查询某个类型的案件详情-->
	<select id="findALbyId" parameterType="Map" resultType="JJDB">
	select j.BJNR,j.JQDZ,j.BJSJ,j.BJRXM,j.BJDH,j.BKRYQKSM,j.SSRYQKSM,j.JJDBH,j.JJSJ,j.WCSJ,j.GXSJ,j.SWRYQKSM,j.JJDWDM,
    bjfs.BJFSMC as BJFSDM,
    lhlx.LHLXMC as LHLX,
    jjlx.JJLXMC as JJLX,
    jqlb.FLMC as JQLBDM,
    jqlx.FLMC as JQLXDM,
    jqxl.FLMC as JQXLDM 
    from  JJDB  j,
    DICT_BJFSDMB bjfs,
    DICT_LHLXDMB lhlx,
    DICT_JJLXDMB jjlx,
    DICT_JQFLDMB jqlb,
    DICT_JQFLDMB jqlx,
    DICT_JQFLDMB jqxl
    where jjdbh=#{jjdbh} AND
    j.BJFSDM=bjfs.BJFSDM AND
    j.LHLX=lhlx.LHLXDM AND
    j.JJLX=jjlx.JJLXDM AND
    j.JQLBDM=jqlb.FLDM AND
    j.JQLXDM=jqlx.FLDM AND
    j.JQXLDM=jqxl.FLDM
	</select>

</mapper>